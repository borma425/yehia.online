var Modal=function(){var o=t(".modal__trigger"),a=t(".modal"),e=t(".modal__bg"),r=t(".modal__content"),n=t(".modal__close"),u=window,d=!1,s=o.length;function t(t){return document.querySelectorAll(t)}function i(t){t.preventDefault();var e=this.dataset.modal,n=e.length,i=e.substring(1,n),o=document.getElementById(i);c(this,o)}function l(t){t.preventDefault(),t.stopImmediatePropagation();var e=t.target,n=document.getElementById("modal__temp");if(d&&e.classList.contains("modal__bg")||e.classList.contains("modal__close")){n.style.opacity="1",n.removeAttribute("style");for(var i=0;i<s;i++)a[i].classList.remove("modal--active"),r[i].classList.remove("modal__content--active"),o[i].style.transform="none",o[i].style.webkitTransform="none",o[i].classList.remove("modal__trigger--active");n.addEventListener("transitionend",function(){setTimeout(function(){window.requestAnimationFrame(function(){n.remove()})},350)},!1),d=!1}}var c=function(t,e){if(null===document.getElementById("modal__temp")){var n=document.createElement("div");n.id="modal__temp",t.appendChild(n),m(t,e,n)}},m=function(t,e,n){var i,o,a,r,d=t.getBoundingClientRect(),s=e,l=s.querySelector(".modal__content").getBoundingClientRect(),c=u.innerWidth/2,m=u.innerHeight/2;t.classList.add("modal__trigger--active"),a=l.width/d.width,r=l.height/d.height,a=a.toFixed(3),r=r.toFixed(3),i=Math.round(c-d.left-d.width/2),o=Math.round(m-d.top-d.height/2),s.classList.contains("modal--align-top")&&(o=Math.round(l.height/2+l.top-d.top-d.height/2)),t.style.transform="translate("+i+"px, "+o+"px)",t.style.webkitTransform="translate("+i+"px, "+o+"px)",n.style.transform="scale("+a+","+r+")",n.style.webkitTransform="scale("+a+","+r+")",window.setTimeout(function(){window.requestAnimationFrame(function(){v(s,n)})},400)},v=function(t,e){if(!d){var n=t.querySelector(".modal__content");t.classList.add("modal--active"),n.classList.add("modal__content--active"),n.addEventListener("transitionend",function t(){e.style.opacity="0";n.removeEventListener("transitionend",t,!1)},!1),d=!0}};return{init:function(){!function(){for(var t=0;t<s;t++)o[t].addEventListener("click",i,!1),n[t].addEventListener("click",l,!1),e[t].addEventListener("click",l,!1)}()}}}();Modal.init();
